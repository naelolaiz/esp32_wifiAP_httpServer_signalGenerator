<html><head>
    <style>
    form {
    display:
      table;
    }
    p {
    display : table-row;
    }
    <!--label {display:  table-cell;}-->
    label {
    width: 110px;
    display: inline-block;
    }
    input {
    display: table-cell;
    }

{
  box-sizing: border-box;
}

.row {
  display: flex;
}

/* Create two equal columns that sits next to each other */
.column {
  flex: 50%;
  padding: 20px;
}

    </style>
    </head>
    <body>
    <form action="" id="form-control" name="form-control" method="post"> <!--onsubmit="return submitForm();">-->
   <div class="row" style="background-color:#dee;">
<h1>Oscillator Configuration</h1>
  <div class="column" style="background-color:#cdd;">
<h2>Channel 0</h2>
    <div class="rendered-form-osc1"> 
        <div class="formbuilder-select form-group field-select-waveform-osc0">
        <p>
            <label for="select-waveform-osc0" class="formbuilder-select-label">Wave type</label>
            <select name="select-waveform-osc0" id="select-waveform-osc0" required="required" aria-required="true" onchange="submitForm();">
                <option value="off" id="select-waveform-osc0-0">OFF</option>
                <option value="sine">SINE</option>
                <option value="triangular" id="select-waveform-osc0-2">TRIANGULAR</option>
                <option value="square1" id="select-waveform-osc0-3">SQUARE1</option>
                <option value="square2" id="select-waveform-osc0-4">SQUARE2</option>
            </select>  
        </p>
        </div>               
        <div class="formbuilder-number form-group field-number-phase-osc0">
        <p>              
            <label for="number-phase-osc0" class="formbuilder-number-label">Starting Phase</label>
            <input type="number" name="number-phase-osc0" value="0" min="0" max="360" step="0.1" id="number-phase-osc0" onchange="submitForm();" required="required" aria-required="true" />
        </p>
        </div>
        <div class="formbuilder-number form-group field-number-frequency-osc0">
        <p>              
            <label for="number-frequency-osc0" class="formbuilder-number-label">Frequency</label>
            <input type="number" name="number-frequency-osc0" value="1000" min="0" max="10000000" step="1" id="number-frequency-osc0" onchange="submitForm();" required="required" aria-required="true" />
        </p>
        </div>         
	<p>
	    <label for="checkbox-selected-osc0">Active Channel</label>
	    <input type="checkbox" name="checkbox-selected-osc0" id="checkbox-selected-osc0" value="selected" onclick="selectChannel(0);" required="required" />
	</p>
     </div>                                         
  </div>

  <div class="column" style="background-color:#bcc;">
<h2>Channel 1</h2>
    <div class="rendered-form-osc2"> 
        <div class="formbuilder-select form-group field-select-waveform-osc1">
        <p>
            <label for="select-waveform-osc1" class="formbuilder-select-label">Wave type</label>
            <select name="select-waveform-osc1" id="select-waveform-osc1" required="required" aria-required="true" onchange="submitForm();">
                <option value="off" id="select-waveform-osc1-0">OFF</option>
                <option value="sine">SINE</option>
                <option value="triangular" id="select-waveform-osc1-2">TRIANGULAR</option>
                <option value="square1" id="select-waveform-osc1-3">SQUARE1</option>
                <option value="square2" id="select-waveform-osc1-4">SQUARE2</option>
            </select>  
        </p>
        </div>               
        <div class="formbuilder-number form-group field-number-phase-osc1">
        <p>              
            <label for="number-phase-osc1" class="formbuilder-number-label">Starting Phase</label>
            <input type="number" name="number-phase-osc1" value="0" min="0" max="360" step="0.1" id="number-phase-osc1" onchange="submitForm();" required="required" aria-required="true" />
        </p>             
        </div>           
        <div class="formbuilder-number form-group field-number-frequency-osc1">
        <p>              
            <label for="number-frequency-osc1" class="formbuilder-number-label">Frequency</label>
            <input type="number" name="number-frequency-osc1" value="1000" min="0" max="10000000" step="1" id="number-frequency-osc1" onchange="submitForm();" required="required" aria-required="true" />
        </p>
        </div>         
	<p>
	    <label for="checkbox-selected-osc1">Active Channel</label>
	    <input type="checkbox" name="checkbox-selected-osc1" id="checkbox-selected-osc1" value="selected" onclick="selectChannel(1);" required="required" />
	</p>
   </div>
  </div>
  </div>
  <div class="row" style="background-color:#8AA;">
        <p>
            <label for="number-gain" class="formbuilder-number-label">Gain</label>
            <input type="number" name="number-gain" value="1.0" min="0" max="2" step="0.01" id="number-gain" onchange="submitForm();" required="required" aria-required="true" />
        </p>           
  </div>
  </div>
 </form>
    <form action="" id="form-sweep-control" name="form-sweep-control" method="post"> <!--onsubmit="return submitForm();">-->
  <div class="row">
  <div class="column" style="background-color:#abc;">
<h1>Sweep Configuration</h1>
  </div>
  <div class="column" style="background-color:#9ab;">
    <div>
        <p>
            <label for="select-sweep-mode">Sweep mode</label>
            <select name="select-sweep-mode" id="select-sweep-mode">
                <option value="0-1" id="select-sweep-mode-0-1">Channel 0 to Channel 1</option>
                <option value="1-0" id="select-sweep-mode-1-0">Channel 1 to Channel 0</option>
                <option value="0-1-0" id="select-sweep-mode-0-1-0">Channel 0 to Channel 1 to Channel 0</option>
                <option value="1-0-1" id="select-sweep-mode-1-0-1">Channel 1 to Channel 0 to Channel 1</option>
            </select>  
        </p>
	<p>
	    <label for="checkbox-sweep-infiniteloop">Loop active</label>
	    <input type="checkbox" name="checkbox-sweep-infiniteloop" id="checkbox-sweep-infiniteloop" value="on" />
	</p>
        <p>             
            <label for="number-sweep-step-frequency">Frequency Steps in Hz</label>
            <input type="number" name="number-sweep-step-frequency" value="1000" min="0" max="10000000" step="1" id="number-sweep-step-frequency" />
        </p>
        <p>             
            <label for="number-sweep-time-us">Update time in microseconds</label>
            <input type="number" name="number-sweep-time-us" value="100" min="20" max="100000" step="1" id="number-sweep-time-us" />
        </p>
	<p>
	    <input type="button" name="button-to-start-sweep" id="button-to-start-sweep" value="Start sweep!" onclick="startSweep();" />
	</p>
   </div>
</div>
</form>
    <script>       
   
   function createCookie(name,value,days) {
           if (days) {
                   var date = new Date();
                   date.setTime(date.getTime()+(days*24*60*60*1000));
                   var expires = "; expires="+date.toGMTString();
           }
           else var expires = "";
           document.cookie = "siggen-"+name+"="+value+expires+"; path=/";
   }
   
   function readCookie(name) {
           var nameEQ = "siggen-" + name + "=";
           var ca = document.cookie.split(';');
           for(var i=0;i < ca.length;i++) {
                   var c = ca[i];
                   while (c.charAt(0)==' ') c = c.substring(1,c.length);
                   if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
           }
           return null;
   }
   
   function eraseCookie(name) {
           createCookie(name,"",-1);
   }
   
   function cacheCurrentParams() {
   createCookie("waveform-osc0", document.querySelector('#select-waveform-osc0').value, 1);
   createCookie("phase-osc0", document.querySelector('#number-phase-osc0').value, 1);
   createCookie("frequency-osc0", document.querySelector('#number-frequency-osc0').value, 1);
   createCookie("gain", document.querySelector('#number-gain').value, 1);
   createCookie("selected-osc0", document.querySelector('#checkbox-selected-osc0').checked ? "1" : "0", 1);

   createCookie("waveform-osc1", document.querySelector('#select-waveform-osc1').value, 1);
   createCookie("phase-osc1", document.querySelector('#number-phase-osc1').value, 1);
   createCookie("frequency-osc1", document.querySelector('#number-frequency-osc1').value, 1);
   createCookie("selected-osc1", document.querySelector('#checkbox-selected-osc1').checked ? "1" : "0", 1);
   }
   
   function restoreCurrentParams() {
   waveform = readCookie("waveform-osc0");
   document.querySelector('#select-waveform-osc0').value = waveform != null ? waveform : "off";
   phase = readCookie("phase-osc0");
   document.querySelector('#number-phase-osc0').value = phase != null ? phase : "0";
   frequency = readCookie("frequency-osc0");
   document.querySelector('#number-frequency-osc0').value = frequency != null ? frequency : "1000";
   gain = readCookie("gain");
   document.querySelector('#number-gain').value = gain != null ? gain : "1.0";
   selected = readCookie("selected-osc0");
   document.querySelector('#checkbox-selected-osc0').checked = selected != null && selected == "1" ? 1 : 0;


   waveform = readCookie("waveform-osc1");
   document.querySelector('#select-waveform-osc1').value = waveform != null ? waveform : "off";
   phase = readCookie("phase-osc1");
   document.querySelector('#number-phase-osc1').value = phase != null ? phase : "0";
   frequency = readCookie("frequency-osc1");
   document.querySelector('#number-frequency-osc1').value = frequency != null ? frequency : "1000";
   selected = readCookie("selected-osc1");
   document.querySelector('#checkbox-selected-osc1').checked = selected != null && selected == "1" ? 1 : 0;
   }
   restoreCurrentParams();
   
   function submitForm() {
   cacheCurrentParams();
   var frm = document.getElementsByName('form-control')[0];
   frm.submit();
   return true;
   }

   function selectChannel(channel) {
   document.querySelector('#checkbox-selected-osc0').checked &= channel == 0;
   document.querySelector('#checkbox-selected-osc0').value = (document.querySelector('#checkbox-selected-osc0').checked ? "selected" : "");
   document.querySelector('#checkbox-selected-osc1').checked &= channel == 1;
   document.querySelector('#checkbox-selected-osc1').value = (document.querySelector('#checkbox-selected-osc1').checked ? "selected" : "");
   return submitForm();
   }

   function startSweep() {
   cacheCurrentParams();
   var frm = document.getElementsByName('form-sweep-control')[0];
   frm.submit();
   return true;
   }
    </script>
    </body></html>
